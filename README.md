# [Personoj](https://github.com/Deducteam/personoj)

Copyright [Deducteam](https://deducteam.gitlabpages.inria.fr) 2021-2022

With *Personoj*, you can transpile [PVS](http://pvs.csl.sri.com) theories to
[Lambdapi](https://github.com/Deducteam/lambdapi) files.
It is similar to [Agda2Dedukti](https://github.com/Deducteam/Agda2Dedukti),
[HOLLightToDk](https://github.com/Deducteam/HOLLightToDk)
or [CoqInE](https://github.com/Deducteam/CoqInE).
Theoretically speaking, Personoj allows you to translate
well-sorted types and well-typed terms from simple type theory
with prenex polymorphism and
predicate subtyping to well-typed terms of the λΠ calculus modulo theory.

You are free to copy, modify and distribute Personoj with attribution under the
terms of the CeCILL-B license. See the `LICENSE` file for details.

## Getting started

Before using Personoj, you need:

- [PVS 7.1 (SBCL)](https://pvs.csl.sri.com/downloads.html)
- BSD make
- [lambdapi](https://github.com/gabrielhdt/lambdapi)
  [branch `coercions`](https://opam.ocaml.org/doc/Usage.html#opam-pin)

To install Personoj, you must load `tools/personoj.lisp` with any (reasonable)
lisp. PVS can also be used for that:
```command
$ pvs -raw -L tools/personoj.lisp
```

You can translate the theory `booleans` from the Prelude of PVS with
```command
$ pvs -raw -E '(pp-dk *standard-output* (get-theory "booleans") t)' -E '(sb-ext:quit)' 2> /dev/null
require open personoj.lhol personoj.logical personoj.pvs_cert
personoj.eq personoj.restrict personoj.coercions;
require personoj.telescope as TL;
require personoj.extra.arity-tools as A;
require open personoj.nat;
require open personoj.cast;
// Theory booleans
constant symbol prop: Set;

symbol prop: Set ≔ prop begin admitted;

constant symbol false: El prop begin admitted;

constant symbol true: El prop begin admitted;

constant symbol NOT: El (prop ~> prop) begin admitted;

constant symbol ¬: El (prop ~> prop) begin admitted;

constant symbol AND: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol &: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol ∧: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol OR: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol ∨: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol IMPLIES: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol =>: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol ⇒: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol WHEN: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol IFF: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol <=>: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

constant symbol ⇔: El ((TL.code (TL.double! prop prop)) ~> prop) begin admitted;

```

## More documentation

You can ask PVS to show the documentation of the function `pp-dk` with
```lisp
(describe 'pp-dk)
```

The file [`CHECKING.md`](./CHECKING.md) describes how to type check files that
have been generated by Personoj with lambdapi.

The file [`TESTING.md`](./TESTING.md) shows how to run, add or update tests.

The file [`HACKING.md`](./HACKING.md) describes some internals of Personoj that
are relevant for developers.

A list of missing features is available in the file
[`pp-dk3.lisp`](./pvs_patches/pvs2dk/pp-dk3.lisp).
